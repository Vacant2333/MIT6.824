build s[0] peer's count [3]
build s[1] peer's count [3]
build s[2] peer's count [3]
Test (2A): initial election ...
s[2] start a election now
s[2] ask vote
s[0] update Term [0]->[1] by s[2] when RequestVote
s[1] update Term [0]->[1] by s[2] when RequestVote
s[0] be asked vote to [2] reply:&{1 true} args:&{1 2}
s[1] be asked vote to [2] reply:&{1 true} args:&{1 2}
s[2] ask vote resulttrue &{1 true}
s[2] ask vote resulttrue &{1 true}
L[2] is a Leader now
  ... Passed --   3.1  3   58   18998    0
s[0] dead now,role:[1],Term:[1]
s[1] dead now,role:[1],Term:[1]
s[2] dead now,role:[3],Term:[1]
build s[0] peer's count [3]
build s[1] peer's count [3]
build s[2] peer's count [3]
Test (2A): election after network failure ...
s[0] start a election now
s[2] start a election now
s[0] ask vote
s[2] ask vote
s[0] reject vote to [2],role:[2],votedFor:[0]
s[0] be asked vote to [2] reply:&{1 false} args:&{1 2}
s[1] update Term [0]->[1] by s[2] when RequestVote
s[1] be asked vote to [2] reply:&{1 true} args:&{1 2}
s[2] reject vote to [0],role:[2],votedFor:[2]
s[1] reject vote to [0],role:[1],votedFor:[2]
s[2] be asked vote to [0] reply:&{1 false} args:&{1 0}
s[1] be asked vote to [0] reply:&{1 false} args:&{1 0}
s[2] ask vote resulttrue &{1 false}
s[2] ask vote resulttrue &{1 true}
s[0] ask vote resulttrue &{1 false}
s[0] ask vote resulttrue &{1 false}
L[2] is a Leader now
F[0] another server is Leader now
s[0] start a election now
s[0] ask vote
s[1] update Term [1]->[2] by s[0] when RequestVote
s[1] be asked vote to [0] reply:&{2 true} args:&{2 0}
s[0] ask vote resulttrue &{2 true}
L[0] is a Leader now
s[2] trans to Follower by L[0] when receive AppendEntries
F[2] is not a leader now!
s[0] ask vote resultfalse &{0 false}
s[2] start a election now
s[2] ask vote
s[2] ask vote resultfalse &{0 false}
s[1] start a election now
s[1] ask vote
C[2] election time out
s[2] start a election now
s[2] ask vote
C[1] election time out
s[1] start a election now
s[1] ask vote
C[2] election time out
s[2] start a election now
s[2] ask vote
C[1] election time out
s[1] start a election now
s[1] ask vote
C[2] election time out
s[2] start a election now
s[2] ask vote
C[1] election time out
s[1] start a election now
s[1] ask vote
C[2] election time out
s[2] start a election now
s[2] ask vote
C[1] election time out
s[1] start a election now
s[1] ask vote
C[2] election time out
s[1] ask vote resultfalse &{0 false}
s[2] start a election now
s[2] ask vote
s[2] ask vote resultfalse &{0 false}
C[1] election time out
s[1] ask vote resultfalse &{0 false}
s[1] start a election now
s[1] ask vote
s[2] ask vote resultfalse &{0 false}
C[1] election time out
s[1] start a election now
s[1] ask vote
s[2] update Term [8]->[9] by s[1] when RequestVote
s[2] be asked vote to [1] reply:&{9 true} args:&{9 1}
s[1] ask vote resulttrue &{9 true}
F[2] another server is Leader now
L[1] is a Leader now
s[0] start a election now
s[0] ask vote
s[2] update Term [9]->[10] by s[0] when RequestVote
s[2] be asked vote to [0] reply:&{10 true} args:&{10 0}
s[1] update Term [9]->[10] by s[0] when RequestVote
s[1] be asked vote to [0] reply:&{10 true} args:&{10 0}
s[0] ask vote resulttrue &{10 true}
s[0] ask vote resulttrue &{10 true}
F[1] is not a leader now!
L[0] is a Leader now
s[1] ask vote resultfalse &{0 false}
  ... Passed --   4.4  3  138   33126    0
s[0] dead now,role:[3],Term:[10]
s[1] dead now,role:[1],Term:[10]
s[2] dead now,role:[1],Term:[10]
build s[0] peer's count [7]
build s[1] peer's count [7]
build s[2] peer's count [7]
build s[3] peer's count [7]
build s[4] peer's count [7]
build s[5] peer's count [7]
build s[6] peer's count [7]
Test (2A): multiple elections ...
s[2] start a election now
s[5] start a election now
s[1] start a election now
s[0] start a election now
s[5] ask vote
s[2] ask vote
s[0] ask vote
s[1] ask vote
s[5] reject vote to [0],role:[2],votedFor:[5]
s[5] be asked vote to [0] reply:&{1 false} args:&{1 0}
s[0] reject vote to [1],role:[2],votedFor:[0]
s[6] update Term [0]->[1] by s[5] when RequestVote
s[6] be asked vote to [5] reply:&{1 true} args:&{1 5}
s[0] be asked vote to [1] reply:&{1 false} args:&{1 1}
s[1] reject vote to [2],role:[2],votedFor:[1]
s[1] be asked vote to [2] reply:&{1 false} args:&{1 2}
s[1] reject vote to [0],role:[2],votedFor:[1]
s[5] ask vote resulttrue &{1 true}
s[1] be asked vote to [0] reply:&{1 false} args:&{1 0}
s[0] ask vote resulttrue &{1 false}
s[3] update Term [0]->[1] by s[1] when RequestVote
s[1] ask vote resulttrue &{1 false}
s[3] be asked vote to [1] reply:&{1 true} args:&{1 1}
s[0] ask vote resulttrue &{1 false}
s[1] reject vote to [5],role:[2],votedFor:[1]
s[2] ask vote resulttrue &{1 false}
s[1] be asked vote to [5] reply:&{1 false} args:&{1 5}
s[3] reject vote to [0],role:[1],votedFor:[1]
s[3] be asked vote to [0] reply:&{1 false} args:&{1 0}
s[3] reject vote to [2],role:[1],votedFor:[1]
s[1] ask vote resulttrue &{1 true}
s[3] be asked vote to [2] reply:&{1 false} args:&{1 2}
s[4] update Term [0]->[1] by s[2] when RequestVote
s[4] be asked vote to [2] reply:&{1 true} args:&{1 2}
s[5] reject vote to [1],role:[2],votedFor:[5]
s[5] be asked vote to [1] reply:&{1 false} args:&{1 1}
s[2] reject vote to [1],role:[2],votedFor:[2]
s[2] be asked vote to [1] reply:&{1 false} args:&{1 1}
s[2] ask vote resulttrue &{1 false}
s[1] ask vote resulttrue &{1 false}
s[2] ask vote resulttrue &{1 true}
s[2] reject vote to [0],role:[2],votedFor:[2]
s[2] be asked vote to [0] reply:&{1 false} args:&{1 0}
s[1] ask vote resulttrue &{1 false}
s[4] reject vote to [5],role:[1],votedFor:[2]
s[3] reject vote to [5],role:[1],votedFor:[1]
s[3] be asked vote to [5] reply:&{1 false} args:&{1 5}
s[6] reject vote to [2],role:[1],votedFor:[5]
s[6] be asked vote to [2] reply:&{1 false} args:&{1 2}
s[4] be asked vote to [5] reply:&{1 false} args:&{1 5}
s[2] reject vote to [5],role:[2],votedFor:[2]
s[2] be asked vote to [5] reply:&{1 false} args:&{1 5}
s[4] reject vote to [1],role:[1],votedFor:[2]
s[4] be asked vote to [1] reply:&{1 false} args:&{1 1}
s[5] ask vote resulttrue &{1 false}
s[2] ask vote resulttrue &{1 false}
s[1] ask vote resulttrue &{1 false}
s[0] ask vote resulttrue &{1 false}
s[5] reject vote to [2],role:[2],votedFor:[5]
s[5] be asked vote to [2] reply:&{1 false} args:&{1 2}
s[5] ask vote resulttrue &{1 false}
s[4] reject vote to [0],role:[1],votedFor:[2]
s[4] be asked vote to [0] reply:&{1 false} args:&{1 0}
s[5] ask vote resulttrue &{1 false}
s[0] reject vote to [2],role:[2],votedFor:[0]
s[0] be asked vote to [2] reply:&{1 false} args:&{1 2}
s[2] ask vote resulttrue &{1 false}
s[0] ask vote resulttrue &{1 false}
s[6] reject vote to [1],role:[1],votedFor:[5]
s[6] be asked vote to [1] reply:&{1 false} args:&{1 1}
s[5] ask vote resulttrue &{1 false}
s[2] ask vote resulttrue &{1 false}
s[0] reject vote to [5],role:[2],votedFor:[0]
s[0] be asked vote to [5] reply:&{1 false} args:&{1 5}
s[6] reject vote to [0],role:[1],votedFor:[5]
s[6] be asked vote to [0] reply:&{1 false} args:&{1 0}
s[1] ask vote resulttrue &{1 false}
s[0] ask vote resulttrue &{1 false}
s[5] ask vote resulttrue &{1 false}
s[0] ask vote resulttrue &{1 false}
s[2] ask vote resultfalse &{0 false}
C[0] election time out
s[0] start a election now
s[0] ask vote
s[1] update Term [1]->[2] by s[0] when RequestVote
s[1] be asked vote to [0] reply:&{2 true} args:&{2 0}
s[4] update Term [1]->[2] by s[0] when RequestVote
s[4] be asked vote to [0] reply:&{2 true} args:&{2 0}
s[2] update Term [1]->[2] by s[0] when RequestVote
s[5] update Term [1]->[2] by s[0] when RequestVote
s[2] be asked vote to [0] reply:&{2 true} args:&{2 0}
s[5] be asked vote to [0] reply:&{2 true} args:&{2 0}
s[0] ask vote resulttrue &{2 true}
s[0] ask vote resulttrue &{2 true}
s[3] update Term [1]->[2] by s[0] when RequestVote
s[3] be asked vote to [0] reply:&{2 true} args:&{2 0}
s[0] ask vote resulttrue &{2 true}
s[0] ask vote resulttrue &{2 true}
s[6] update Term [1]->[2] by s[0] when RequestVote
s[6] be asked vote to [0] reply:&{2 true} args:&{2 0}
s[0] ask vote resulttrue &{2 true}
s[0] ask vote resulttrue &{2 true}
F[5] another server is Leader now
F[2] another server is Leader now
F[1] another server is Leader now
L[0] is a Leader now
2A.3 test round[1] start
s[2] ask vote resultfalse &{0 false}
s[1] ask vote resultfalse &{0 false}
s[2] ask vote resultfalse &{0 false}
s[2] ask vote resultfalse &{0 false}
s[1] ask vote resultfalse &{0 false}
s[1] ask vote resultfalse &{0 false}
s[2] ask vote resultfalse &{0 false}
s[1] ask vote resultfalse &{0 false}
s[1] ask vote resultfalse &{0 false}
s[1] ask vote resultfalse &{0 false}
s[1] ask vote resultfalse &{0 false}
s[1] ask vote resultfalse &{0 false}
s[1] ask vote resultfalse &{0 false}
s[2] ask vote resultfalse &{0 false}
s[2] ask vote resultfalse &{0 false}
s[2] ask vote resultfalse &{0 false}
s[2] ask vote resultfalse &{0 false}
s[1] ask vote resultfalse &{0 false}
s[0] dead now,role:[3],Term:[2]
s[1] dead now,role:[1],Term:[2]
s[2] dead now,role:[1],Term:[2]
s[3] dead now,role:[1],Term:[2]
s[4] dead now,role:[1],Term:[2]
s[5] dead now,role:[1],Term:[2]
s[6] dead now,role:[1],Term:[2]
--- FAIL: TestManyElections2A (5.59s)
    config.go:461: expected one leader, got none
FAIL
exit status 1
FAIL	mit6.824/raft	13.195s
